<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>登录</title>
  <link rel="stylesheet" media="screen" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/reset.css"/>
</head>
<body>

<div id="main-js">
		<div class="login">
			<div class="login-top">
				登录
			</div>
			<form id="myForm" method="POST">

				<div class="login-center clearfix">
					<div class="login-center-input">
						<input type="text" name="roomID" value="" placeholder="房间ID" onfocus="this.placeholder=''" onblur="this.placeholder='请输入您的用户名'" onkeyup="btnStyle(this.name)" required/>
					</div>
				</div>
				<div class="login-center clearfix">
					<div class="login-center-input">
						<input type="text" name="userID"value="" placeholder="用户ID" onfocus="this.placeholder=''" onblur="this.placeholder='请输入您的密码'" onkeyup="btnStyle(this.name)" required/>
					</div>
				</div>
				<button class="login-button">
					进入房间
				</button>
			</form>
		</div>
</div>

<script type="text/javascript">
	function checkInputFilled(elementName){
		inputBox = document.getElementsByName(elementName)[0];
		if(inputBox.value.length > 0 ) return true;
		return false;
	}
	function checkInputValid(elementName){
		inputBox = document.getElementsByName(elementName)[0];
		if(/^\w+$/.test(inputBox.value))return true;
		return false;
	}
	function btnStyle() {
		var btnSubmit = document.getElementsByClassName('login-button')[0];

		var emptyFields = [].slice.call(document.querySelectorAll('input')).filter(function (element, index) {
			return !checkInputFilled(element.name);
		});
		var invalidFields = [].slice.call(document.querySelectorAll('input')).filter(function (element, index) {
			return !checkInputValid(element.name);
		});
		if (emptyFields.length == 0) {
			btnSubmit.removeAttribute('disabled');
			if(invalidFields.length == 0) btnSubmit.value = 1;

		}
	}

	document.querySelector(".login-button").onclick = function(){
		if(this.value == 1) alert("成功");
		else alert("失败");
	}
</script>
<div style="text-align:center;">
</div>
</body>
</html>
